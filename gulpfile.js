

                                                                       /*`  
                                                                     ::::::,
                                                                   :::::::::
                                                                 ,::::::::. 
                                                               .::::::::,   
                                                             `:::::::::     
                                                            :::::::::       
                                                          :::::::::         
                                                        :::::::::           
                                                      :::::::::             
                                                    :::::::::               
                                                   ::::::::`                
                                                  :::::::.                  
                                                  :::::::                   
                                                 :::::::`                   
                                                 :::::::                    
                                                :::::::.                    
                                                :::::::                     
                                               :::::::.                     
             `.,:::::::::::::::::::::::::::::::::::::::::::::,`             
   `:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::`  
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
  `:::::::::::::::::::::::::::::::::::::::::: `,,,,` ,::::::::::::::::::::  
 ::`       `,:::::::::::::::::::::::::::::::::::::::::::::::::::.`       .::
 ::::::::::::,.`                                             `.:::::::::::::
 ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::.
 `::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: 
  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: 
  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: 
  ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::, 
  ,:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::` 
   :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::  
   :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::  
   :::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::  
   ::::::::::::::::    .:::::::::::::::::::::::::::::::::::::::::::::::::.  
   .:::::::::::.          ,::::::::::::::::::::::::::::::::::::::::::::::   
    :::::::::     `::::.    :::::::::::::::::::::::    ::::::::::::::::::   
    :::::::,    .::::::::   ::::::::::::::::::::::,   :::::::::::::::::::   
    ::::::     :::::::::::::::::::::::::::::::::::   ::::::::::::::::::::   
    :::::    .:::::::::::::::::::::::::::::::::::   .:::::::::::::::::::`   
    `:::    ::::::::::::::::::::::::::::::::::::   `::::::::::::::::::::    
     ::    ::::::::::,   ::::::::::::::::::::::`   :::::::::::::::::::::    
     :    ,::::::::::   `:::::   ::::::  .::::,   :::::::.::::.    `::::    
     `    ::::::::::    :::::   `:::::   :::::   :::::::   :        .::,    
         ::::::::::`   :::::   `:::::   `::::   ,::::::      ::::   :::     
         :::::::::    `::::   `:::::    ::::   `::::::`    ::::    ::::     
        ,:::::::      ::::,   :::::    ::::.   :::::      :::,   ::::       
        `:::::       :::::   ,:::.    ,::::   ::::      ,:::   `::,         
          `     :,   ::::,         :  `,           `   .:::   ,:    `:`     
             `:::   ::::::       :::     .:      ::   `:::,       ::::      
      `:::::::::`  `::::::::::::::::::::::::::::::    ::::::::::::::::      
       :::::::::   ::::::::::::::::::::::::::::::    :::::::::::::::::      
       :::::::::  ::::::::::::::::::::::::::::::    :::::::::::::::::,      
       ::::::::::::::::::::::::::::::::::::::::.   ,:::::::::::::::::       
       ::::::::::::::::::::::::::::::::::::::::    ::::::::::::::::::       
       .:::::::::::::::::::::::::::::::::::::::,`::::::::::::::::::::       
        ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::,       
        ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::`       
        ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::        
        ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::        
        .:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::        
         ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::.        
         ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::         
         `::::::::::::::::::::::::::::::::::::::::::::::::::::::::`         
              `::::::::::::::::::::::::::::::::::::::::::::::`              
            :::.        .::::::::::::::::::::::::::,`       .:::`           
             ::::::::::::,.`                    `.,::::::::::::             
              ::::::::::::::::::::::::::::::::::::::::::::::::              
               ::::::::::::::::::::::::::::::::::::::::::::::               
                ::::::::::::::::::::::::::::::::::::::::::::,               
                ::::::::::::::::::::::::::::::::::::::::::::.               
                ::::::::::::::::::::::::::::::::::::::::::::`               
                ::::::::::::::::::::::::::::::::::::::::::::                
                ::::::::::::::::::::::::::::::::::::::::::::                
                .:::::::::::::::::::::::::::::::::::::::::::                
                 :::::::::::::::::::::::::::::::::::::::::::                
                 :::::::::::::::::::::::::::::::::::::::::::                
                 :::::::::::::::::::::::::::::::::::::::::::                
                 ::::::::::::::::::::::::::::::::::::::::::,                
                 ::::::::::::::::::::::::::::::::::::::::::.                
                 ,:::::::::::::::::::::::::::::::::::::::::                 
                 .:::::::::::::::::::::::::::::::::::::::::                 
                  :::::::::::::::::::::::::::::::::::::::::                 
                     ,:::::::::::::::::::::::::::::::::.                    
                              `.,:::;;;;;:::,.`*/

(function gulpFile(require, Object){

	'use strict';

	var gulp = require('gulp'),
		util = require('gulp-util'),
		fs = require('fs');

	gulp.task('default', listTasks);

	fs.readdirSync('./gulp_tasks')
		.map(registerGulpTask);


	function registerGulpTask(fileName) {
		require('./gulp_tasks/' + fileName).register(gulp);
	}

 	function listTasks() {
 		var log = util.log;

		log();
		log('Available tasks:');
		log();

		Object
			.keys(gulp.tasks)
			.sort()
			.filter(isNotDefault)
			.map(displayTask, log);

		log();
	}

	function displayTask(name, index) {
		this('\t%s. %s', index + 1, name);
	}

	function isNotDefault(name) {
		return name !== 'default';
	}

})(require, Object);